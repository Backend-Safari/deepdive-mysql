# 4장 - 아키텍처

- **MySQL 스레딩 구조** <br />

  - MySQL 서버는 스레드 기반으로 작동하며, 크게 Foreground 스레드와 Background 스레드로 구분할 수 있다.
  - 'thread/sql/one_connection' 스레드만 실제 사용자의 요청을 처리하는 Foreground스레드 이다.

- **글로벌 메모리 영역**

  - 테이블 캐시
  - InnoDB 버퍼 풀
  - InnoDB 어댑티브 해시 인덱스
  - InnoDB 리두 로그 버퍼

- **로컬 메모리 영역**

  - 정렬 버퍼(Sort buffer)
  - 조인 버퍼
  - 바이너리 로그 캐시
  - 네트워크 버퍼

- **쿼리 실행 구조**
    1. 쿼리 파서
    2. 전처리기
    3. 옵티마이저
    4. 쿼리 실행기
    5. 스토리지 엔진

- **메타 데이터**

    - 데이터베이스 서버에서 테이블의 구조 정보와 스토어드 프로그램 등의 정보를 메타 데이터라고 한다.
    - MySQL 8.0 버전부터는 스토어드 프로그램의 코드 관련 정보를 모두 InnoDB의 테이블에 저장하도록 개선됌
    - 8.0부터 딕셔너리와 시스템 테이블이 모두 InnoDB 스토리지엔진에 저장되도록 개선되면서 SQL서버가 비정상적으로 종료되더라도 완전한 성공 or 완전한 실패로 정리된다.

